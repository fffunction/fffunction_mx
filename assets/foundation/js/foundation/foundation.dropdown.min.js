(function(t,o,s,n){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"4.2.0",settings:{activeClass:"open",is_hover:false,opened:function(){},closed:function(){}},init:function(o,s,n){this.scope=o||this.scope;Foundation.inherit(this,"throttle scrollLeft data_options");if(typeof s==="object"){t.extend(true,this.settings,s)}if(typeof s!="string"){if(!this.settings.init){this.events()}return this.settings.init}else{return this[s].call(this,n)}},events:function(){var s=this;t(this.scope).on("click.fndtn.dropdown","[data-dropdown]",function(o){var n=t.extend({},s.settings,s.data_options(t(this)));o.preventDefault();if(!n.is_hover)s.toggle(t(this))}).on("mouseenter","[data-dropdown]",function(o){var n=t.extend({},s.settings,s.data_options(t(this)));if(n.is_hover)s.toggle(t(this))}).on("mouseleave","[data-dropdown-content]",function(o){var n=t('[data-dropdown="'+t(this).attr("id")+'"]'),e=t.extend({},s.settings,s.data_options(n));if(e.is_hover)s.close.call(s,t(this))}).on("opened.fndtn.dropdown","[data-dropdown-content]",this.settings.opened).on("closed.fndtn.dropdown","[data-dropdown-content]",this.settings.closed);t("body").on("click.fndtn.dropdown",function(o){var n=t(o.target).closest("[data-dropdown-content]");if(t(o.target).data("dropdown")){return}if(n.length>0&&(t(o.target).is("[data-dropdown-content]")||t.contains(n.first()[0],o.target))){o.stopPropagation();return}s.close.call(s,t("[data-dropdown-content]"))});t(o).on("resize.fndtn.dropdown",s.throttle(function(){s.resize.call(s)},50)).trigger("resize");this.settings.init=true},close:function(o){var s=this;o.each(function(){if(t(this).hasClass(s.settings.activeClass)){t(this).css(Foundation.rtl?"right":"left","-99999px").removeClass(s.settings.activeClass);t(this).trigger("closed")}})},open:function(t,o){this.css(t.addClass(this.settings.activeClass),o);t.trigger("opened")},toggle:function(o){var s=t("#"+o.data("dropdown"));this.close.call(this,t("[data-dropdown-content]").not(s));if(s.hasClass(this.settings.activeClass)){this.close.call(this,s)}else{this.close.call(this,t("[data-dropdown-content]"));this.open.call(this,s,o)}},resize:function(){var o=t("[data-dropdown-content].open"),s=t("[data-dropdown='"+o.attr("id")+"']");if(o.length&&s.length){this.css(o,s)}},css:function(s,n){if(/body/i.test(s.offsetParent()[0].nodeName)){var e=n.offset();e.top-=s.offsetParent().offset().top;e.left-=s.offsetParent().offset().left}else{var e=n.position()}if(this.small()){s.css({position:"absolute",width:"95%",left:"2.5%","max-width":"none",top:e.top+this.outerHeight(n)})}else{if(!Foundation.rtl&&t(o).width()>this.outerWidth(s)+n.offset().left){var i=e.left;if(s.hasClass("right")){s.removeClass("right")}}else{if(!s.hasClass("right")){s.addClass("right")}var i=e.left-(this.outerWidth(s)-this.outerWidth(n))}s.attr("style","").css({position:"absolute",top:e.top+this.outerHeight(n),left:i})}return s},small:function(){return t(o).width()<768||t("html").hasClass("lt-ie9")},off:function(){t(this.scope).off(".fndtn.dropdown");t("html, body").off(".fndtn.dropdown");t(o).off(".fndtn.dropdown");t("[data-dropdown-content]").off(".fndtn.dropdown");this.settings.init=false}}})(Foundation.zj,this,this.document);