(function(t,i,e,o){"use strict";Foundation.libs.tooltips={name:"tooltips",version:"4.1.7",settings:{selector:".has-tip",additionalInheritableClasses:[],tooltipClass:".tooltip",appendTo:"body","disable-for-touch":false,tipTemplate:function(t,i){return'<span data-selector="'+t+'" class="'+Foundation.libs.tooltips.settings.tooltipClass.substring(1)+'">'+i+'<span class="nub"></span></span>'}},cache:{},init:function(i,e,o){Foundation.inherit(this,"data_options");var s=this;if(typeof e==="object"){t.extend(true,this.settings,e)}else if(typeof o!=="undefined"){t.extend(true,this.settings,o)}if(typeof e!="string"){if(Modernizr.touch){t(this.scope).on("click.fndtn.tooltip touchstart.fndtn.tooltip touchend.fndtn.tooltip","[data-tooltip]",function(i){var e=t.extend({},s.settings,s.data_options(t(this)));if(!e["disable-for-touch"]){i.preventDefault();t(e.tooltipClass).hide();s.showOrCreateTip(t(this))}}).on("click.fndtn.tooltip touchstart.fndtn.tooltip touchend.fndtn.tooltip",this.settings.tooltipClass,function(i){i.preventDefault();t(this).fadeOut(150)})}else{t(this.scope).on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip","[data-tooltip]",function(i){var e=t(this);if(/enter|over/i.test(i.type)){s.showOrCreateTip(e)}else if(i.type==="mouseout"||i.type==="mouseleave"){s.hide(e)}})}}else{return this[e].call(this,o)}},showOrCreateTip:function(t){var i=this.getTip(t);if(i&&i.length>0){return this.show(t)}return this.create(t)},getTip:function(i){var e=this.selector(i),o=null;if(e){o=t("span[data-selector="+e+"]"+this.settings.tooltipClass)}return typeof o==="object"?o:false},selector:function(t){var i=t.attr("id"),e=t.attr("data-tooltip")||t.attr("data-selector");if((i&&i.length<1||!i)&&typeof e!="string"){e="tooltip"+Math.random().toString(36).substring(7);t.attr("data-selector",e)}return i&&i.length>0?i:e},create:function(i){var e=t(this.settings.tipTemplate(this.selector(i),t("<div></div>").html(i.attr("title")).html())),o=this.inheritable_classes(i);e.addClass(o).appendTo(this.settings.appendTo);if(Modernizr.touch){e.append('<span class="tap-to-close">tap to close </span>')}i.removeAttr("title").attr("title","");this.show(i)},reposition:function(e,o,s){var n,a,r,l,f,h;o.css("visibility","hidden").show();n=e.data("width");a=o.children(".nub");r=this.outerHeight(a);l=this.outerHeight(a);h=function(t,i,e,o,s,n){return t.css({top:i?i:"auto",bottom:o?o:"auto",left:s?s:"auto",right:e?e:"auto",width:n?n:"auto"}).end()};h(o,e.offset().top+this.outerHeight(e)+10,"auto","auto",e.offset().left,n);if(t(i).width()<767){h(o,e.offset().top+this.outerHeight(e)+10,"auto","auto",12.5,t(this.scope).width());o.addClass("tip-override");h(a,-r,"auto","auto",e.offset().left)}else{var p=e.offset().left;if(Foundation.rtl){p=e.offset().left+e.offset().width-this.outerWidth(o)}h(o,e.offset().top+this.outerHeight(e)+10,"auto","auto",p,n);o.removeClass("tip-override");if(s&&s.indexOf("tip-top")>-1){h(o,e.offset().top-this.outerHeight(o),"auto","auto",p,n).removeClass("tip-override")}else if(s&&s.indexOf("tip-left")>-1){h(o,e.offset().top+this.outerHeight(e)/2-r*2.5,"auto","auto",e.offset().left-this.outerWidth(o)-r,n).removeClass("tip-override")}else if(s&&s.indexOf("tip-right")>-1){h(o,e.offset().top+this.outerHeight(e)/2-r*2.5,"auto","auto",e.offset().left+this.outerWidth(e)+r,n).removeClass("tip-override")}}o.css("visibility","visible").hide()},inheritable_classes:function(i){var e=["tip-top","tip-left","tip-bottom","tip-right","noradius"].concat(this.settings.additionalInheritableClasses),o=i.attr("class"),s=o?t.map(o.split(" "),function(i,o){if(t.inArray(i,e)!==-1){return i}}).join(" "):"";return t.trim(s)},show:function(t){var i=this.getTip(t);this.reposition(t,i,t.attr("class"));i.fadeIn(150)},hide:function(t){var i=this.getTip(t);i.fadeOut(150)},reload:function(){var i=t(this);return i.data("fndtn-tooltips")?i.foundationTooltips("destroy").foundationTooltips("init"):i.foundationTooltips("init")},off:function(){t(this.scope).off(".fndtn.tooltip");t(this.settings.tooltipClass).each(function(i){t("[data-tooltip]").get(i).attr("title",t(this).text())}).remove()}}})(Foundation.zj,this,this.document);